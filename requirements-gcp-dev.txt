# GCP Development Environment Requirements
# GRC Toolkit v1.1 - OSCAL Integration

# =============================================================================
# SYSTEM REQUIREMENTS
# =============================================================================

# Minimum System Requirements
CPU_MIN=2
RAM_MIN=4
STORAGE_MIN=20

# Recommended System Requirements  
CPU_REC=4
RAM_REC=8
STORAGE_REC=50

# =============================================================================
# SOFTWARE DEPENDENCIES
# =============================================================================

# Core Development Tools
google-cloud-sdk>=400.0.0
docker>=20.10.0
kubectl>=1.28.0
git>=2.30.0
curl>=7.68.0

# Python Dependencies (for automation scripts)
requests>=2.28.0
google-cloud-storage>=2.10.0
google-cloud-logging>=3.8.0
google-cloud-monitoring>=2.15.0
kubernetes>=28.1.0

# Node.js Dependencies (for AI compliance engine)
nodejs>=18.0.0
npm>=9.0.0

# =============================================================================
# GCP SERVICES REQUIRED
# =============================================================================

# Core Services
compute.googleapis.com
container.googleapis.com
artifactregistry.googleapis.com
logging.googleapis.com
monitoring.googleapis.com

# Optional Services (for enhanced functionality)
storage.googleapis.com
secretmanager.googleapis.com
cloudbuild.googleapis.com
cloudsql.googleapis.com

# =============================================================================
# KUBERNETES RESOURCES
# =============================================================================

# Namespace
grc-toolkit

# ConfigMaps
grc-toolkit-config

# Secrets
grc-toolkit-secrets
  - gemini-api-key

# Deployments
grc-toolkit
  - replicas: 2
  - resources:
      requests:
        cpu: 500m
        memory: 512Mi
      limits:
        cpu: 1000m
        memory: 1Gi

# Services
grc-toolkit-service
  - type: ClusterIP
  - port: 80
  - targetPort: 8080

# Ingress
grc-toolkit-ingress
  - tls: true
  - annotations:
      kubernetes.io/ingress.class: gce
      cert-manager.io/cluster-issuer: letsencrypt-prod

# HorizontalPodAutoscaler
grc-toolkit-hpa
  - minReplicas: 2
  - maxReplicas: 10
  - targetCPUUtilizationPercentage: 70

# =============================================================================
# CONTAINER IMAGES
# =============================================================================

# Base Images
nginx:alpine
node:18-alpine
python:3.11-alpine

# Application Images
grc-toolkit:latest
grc-toolkit:1.1
grc-toolkit:1.1-oscal

# =============================================================================
# NETWORK REQUIREMENTS
# =============================================================================

# Ports
HTTP_PORT=80
HTTPS_PORT=443
GRC_TOOLKIT_PORT=8080
SSH_PORT=22

# Firewall Rules
grc-toolkit-web-access
  - allow: tcp:80,tcp:443,tcp:8080
  - source-ranges: 0.0.0.0/0
  - target-tags: grc-toolkit

grc-toolkit-ssh-access
  - allow: tcp:22
  - source-ranges: 0.0.0.0/0
  - target-tags: grc-toolkit

# =============================================================================
# SECURITY REQUIREMENTS
# =============================================================================

# Container Security
- Non-root user execution
- Read-only filesystem
- Security scanning (Trivy)
- Image signing and verification

# Network Security
- TLS/SSL encryption
- Network policies
- Service mesh (optional)
- VPC with private subnets

# Access Control
- IAM roles and permissions
- Service account authentication
- API key management
- Secret rotation

# =============================================================================
# MONITORING REQUIREMENTS
# =============================================================================

# Metrics Collection
- Application metrics
- Infrastructure metrics
- Business metrics
- Custom metrics

# Logging
- Application logs
- System logs
- Audit logs
- Security logs

# Alerting
- Error rate alerts
- Resource usage alerts
- Security alerts
- Business metric alerts

# =============================================================================
# STORAGE REQUIREMENTS
# =============================================================================

# Persistent Volumes
- Application data: 10GB
- Logs: 50GB
- Backups: 100GB
- Temporary files: 5GB

# Storage Classes
- Standard (development)
- SSD (production)
- Regional persistent disks

# =============================================================================
# API DEPENDENCIES
# =============================================================================

# External APIs
gemini-api
  - endpoint: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent
  - authentication: API key
  - rate-limits: 15 requests/minute

# Internal APIs
grc-toolkit-api
  - endpoint: http://grc-toolkit-service:8080
  - authentication: None (internal)
  - rate-limits: None

# =============================================================================
# ENVIRONMENT VARIABLES
# =============================================================================

# Required Environment Variables
GCP_PROJECT_ID=your-project-id
GCP_REGION=us-central1
GCP_ZONE=us-central1-a
GEMINI_API_KEY=your-gemini-api-key

# Optional Environment Variables
GCP_SA_KEY=path-to-service-account-key
GKE_CLUSTER_NAME=grc-toolkit-cluster
ARTIFACT_REGISTRY_LOCATION=us-central1
LOG_LEVEL=INFO
DEBUG_MODE=false

# =============================================================================
# COST ESTIMATION
# =============================================================================

# Development Environment
- GKE Cluster (2 nodes, e2-standard-2): ~$50/month
- Artifact Registry: ~$5/month
- Cloud Logging: ~$10/month
- Cloud Monitoring: ~$5/month
- Network Egress: ~$5/month
- Total: ~$75/month

# Production Environment
- GKE Cluster (3+ nodes, e2-standard-4): ~$200/month
- Artifact Registry: ~$10/month
- Cloud Logging: ~$25/month
- Cloud Monitoring: ~$15/month
- Network Egress: ~$20/month
- Load Balancer: ~$20/month
- Total: ~$290/month

# =============================================================================
# TESTING REQUIREMENTS
# =============================================================================

# Test Environments
- Unit tests
- Integration tests
- End-to-end tests
- Performance tests
- Security tests

# Test Data
- Sample GRC scenarios
- Mock API responses
- Test compliance data
- Performance test data

# =============================================================================
# DEPLOYMENT CHECKLIST
# =============================================================================

# Pre-deployment
- [ ] GCP project created and configured
- [ ] Billing account linked
- [ ] Required APIs enabled
- [ ] Service accounts created
- [ ] IAM permissions configured
- [ ] Network and firewall rules created

# Deployment
- [ ] GKE cluster created
- [ ] Container images built and pushed
- [ ] Kubernetes manifests applied
- [ ] Secrets configured
- [ ] Ingress and load balancer configured
- [ ] Monitoring and logging enabled

# Post-deployment
- [ ] Health checks passing
- [ ] Application accessible
- [ ] API integration working
- [ ] Monitoring dashboards configured
- [ ] Alerting rules created
- [ ] Documentation updated

# =============================================================================
# MAINTENANCE REQUIREMENTS
# =============================================================================

# Regular Maintenance
- Security updates
- Dependency updates
- Performance optimization
- Cost optimization
- Backup verification

# Monitoring
- Resource utilization
- Application performance
- Security events
- Cost tracking
- User activity

# =============================================================================
# SUPPORT REQUIREMENTS
# =============================================================================

# Documentation
- Setup guides
- Troubleshooting guides
- API documentation
- User manuals
- Architecture diagrams

# Support Channels
- GitHub issues
- Documentation
- Community forums
- Professional support

# =============================================================================
# COMPLIANCE REQUIREMENTS
# =============================================================================

# Security Standards
- NIST 800-53 R5 controls
- SOC 2 Type II
- ISO 27001
- GDPR compliance
- HIPAA compliance (if applicable)

# Audit Requirements
- Audit logging
- Compliance reporting
- Evidence collection
- Risk assessment
- Control validation

# =============================================================================
# SCALABILITY REQUIREMENTS
# =============================================================================

# Horizontal Scaling
- Auto-scaling configuration
- Load balancing
- Session management
- Database scaling

# Vertical Scaling
- Resource limits
- Performance optimization
- Caching strategies
- CDN integration

# =============================================================================
# BACKUP AND DISASTER RECOVERY
# =============================================================================

# Backup Strategy
- Application data backup
- Configuration backup
- Database backup
- Container image backup

# Disaster Recovery
- Recovery time objective (RTO): 4 hours
- Recovery point objective (RPO): 1 hour
- Multi-region deployment
- Cross-region replication

# =============================================================================
# END OF REQUIREMENTS
# =============================================================================
